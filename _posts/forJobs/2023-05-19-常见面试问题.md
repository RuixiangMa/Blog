---
tags: Interview
categories: OS
---

# 写在前面



## 线程和进程有什么区别

进程是程序在操作系统中的一次执行过程，它拥有独立的地址空间和系统资源。线程是进程中的一个执行单元，同一进程内的多个线程共享相同的地址空间和系统资源。

**补充：**

-   进程是**资源调度**的基本单位，运行一个可执行程序会创建一个或多个进程，进程就是运行起来的可执行程序；线程是**程序执行**(CPU 调度)的基本单位，每个进程中都有唯一的主线程，且只能有一个，主线程和进程是相互依存的关系，主线程结束进程也会结束。
-   每个进程有自己的**独立地址空间**，不与其他进程分享；一个进程里可以有多个线程，彼此共享同一个地址空间。堆内存、文件、套接字等资源都归进程管理，同一个进程里的多个线程可以共享使用。每个进程占用的内存和其他资源，会在进程退出或被杀死时返回给操作系统。
-   并发应用开发可以用多进程或多线程的方式。多线程由于可以**共享资源，效率较高**；反之，多进程（默认）不共享地址空间和资源，开发较为麻烦(需要进程间通信)，在需要共享数据时效率也较低。但**多进程安全性较好**，在某一个进程出问题时，其他进程一般不受影响；而在多线程的情况下，一个线程执行了非法操作会导致整个进程退出。





## shared_ptr 线程安全性









# 智力题





## 圆滚动问题



两个圆环，半径分别是1和2，小圆在大圆内部绕大圆圆周一周，问小圆自身转了几周？如果在大圆的外部，小圆自身转几周呢？

A.1 3(√)

B.3 6

C.1 2

D.2 4

>   [试题-两个圆环，半径分别是1和2，小圆在大圆内部绕大圆圆周一周，问小圆自身转了几周？如果在大圆的外部，小圆自身转几周呢？ - 校招VIP](https://naoffer.com/exam/402/2992);

>正确答案是 A
>
>把大圆剪断拉直。小圆绕大圆圆周一周，就变成从直线的一头滚至另一头。
>
>因为直线长就是大圆的周长，是小圆周长的2倍，所以小圆要滚动2圈。
>
>但是现在小圆不是沿直线而是沿大圆滚动，小圆因此还同时作自转，当小圆沿大圆滚动1周回到原出发点时，小圆同时自转1周。当小圆在大圆内部滚动时自转的方向与滚动的转向相反，所以小圆自身转了1周。当小圆在大圆外部滚动时自转的方向与滚动的转向相同，所以小圆自身转了3周。
>
>这一题非常有迷惑性，小圆在外部时其实是3圈，你可以拿个硬币试试可以把圆看成一根绳子，长绳是短绳的2倍长，假设长绳开始接口在最底下，短绳接口在长绳接口处，然后短绳开始顺时针绕，当短绳接口对着正左时，这时其实才绕了长绳的1/4，转了180 90度，所以绕一圈是$270*4=360*3$ 。
>
>同理小圆在内部时是1圈。也可以套用下列公式： 两圆圆心距/转动者半径=转动者切另一圆时的自转数!

说了半天, 其实关注圆心的运动轨迹即可..
